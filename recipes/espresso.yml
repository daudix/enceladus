---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: enceladus
description: My personal modification of uCore.

alt-tags:
  - espresso
  - server
base-image: ghcr.io/ublue-os/ucore-minimal
image-version: stable

modules:
  - type: dnf
    repos:
      cleanup: true
      files:
        - https://pkg.cloudflareclient.com/cloudflare-warp-ascii.repo
        - https://download.docker.com/linux/fedora/docker-ce.repo
      keys:
        - https://pkg.cloudflareclient.com/pubkey.gpg
        - https://download.docker.com/linux/fedora/gpg
    install:
      packages:
        - beep
        - cloudflare-warp
        - cups
        - lm_sensors
        # uCore packages from normal edition, without all the bloat
        - cockpit-storaged
        - duperemove
        - hdparm
        - man-db
        - mt7xxx-firmware
        - nxpwireless-firmware
        - pciutils
        - pcp-zeroconf
        - rclone
        - samba
        - samba-usershares
        - sanoid
        - smartctl
        - snapraid
        - usbutils
        - xdg-dbus-proxy
        - xdg-user-dirs
    remove:
      packages:
        # CoreOS packages
        - nfs-utils-coreos
        # uCore packages
        - docker-buildx
        - docker-compose
        - open-vm-tools
        - podman-compose
        - qemu-guest-agent
        - tailscale
  - type: signing
