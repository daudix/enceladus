---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: silverblue
description: My personal flavor of Fedora Silverblue.

base-image: ghcr.io/ublue-os/silverblue-main
image-version: 43

modules:
  - type: dnf
    repos:
      cleanup: true
      files:
        - https://pkg.cloudflareclient.com/cloudflare-warp-ascii.repo
      keys:
        - https://pkg.cloudflareclient.com/pubkey.gpg
      nonfree: rpmfusion
    install:
      packages:
        - cloudflare-warp
        - fish
        - sushi
    remove:
      packages:
        - fedora-workstation-backgrounds
        - firefox
        - firefox-langpacks
        # Remove GNOME Classic session
        - gnome-classic-session
        - gnome-shell-extension-apps-menu
        - gnome-shell-extension-background-logo
        - gnome-shell-extension-launch-new-instance
        - gnome-shell-extension-places-menu
        - gnome-shell-extension-window-list
        # Remove some stuff from ublue-os/main
        - adw-gtk3
        - distrobox
        - htop
        - nvtop
  - type: default-flatpaks
    notify: true
    system:
      install:
        # Default GNOME apps
        - org.gnome.baobab
        - org.gnome.Calculator
        - org.gnome.Calendar
        - org.gnome.Characters
        - org.gnome.Decibels
        - org.gnome.Epiphany
        - org.gnome.Extensions
        - org.gnome.Showtime
        - org.gnome.Snapshot
        - org.gnome.clocks
        - org.gnome.Connections
        - org.gnome.Contacts
        - org.gnome.Extensions
        - org.gnome.font-viewer
        - org.gnome.TextEditor
        - org.gnome.Loupe
        - org.gnome.Logs
        - org.gnome.Maps
        - org.gnome.Music
        - org.gnome.Papers
        - org.gnome.Weather
        # Extra
        - com.mattjakeman.ExtensionManager
      remove:
        - org.gnome.NautilusPreviewer
  - type: signing
